<!DOCTYPE html>
<html>
  <head>
    <title>Settings | KeePassXC-Browser</title>
      <meta charset="UTF-8">
      <link rel="stylesheet" href="bootstrap.min.css" />
      <link rel="stylesheet" href="options.css" />
      <script type="text/javascript" src="../browser-polyfill.min.js"></script>
      <script type="text/javascript" src="../global.js"></script>
      <script type="text/javascript" src="../jquery-3.3.1.min.js"></script>
      <script type="text/javascript" src="bootstrap.min.js"></script>
      <script type="text/javascript" src="options.js"></script>
  </head>
  <body>
    <div class="container">
      <h3 class="muted"><img src="/icons/keepassxc_48x48.png" alt="logo" /> KeePassXC-Browser</h3>

      <nav class="navbar navbar-default">
        <ul class="nav navbar-nav">
          <li class="active"><a href="#general-settings">General</a></li>
          <li><a href="#connected-databases">Connected Databases</a></li>
          <li><a href="#custom-fields">Custom credential fields</a></li>
          <li><a href="#site-preferences">Site preferences</a></li>
          <li><a href="#about">About</a></li>
        </ul>
      </nav>

      <!-- General Settings -->
      <div class="tab" id="tab-general-settings">
        <h2>General settings</h2>
        <hr />
        <p>
          If you just want to insert username + password into the fields where your focus is, press <code><span id="mac-user-shortcut">Ctrl + Shift + U</span><span id="default-user-shortcut">Alt + Shift + U</span></code>.
          <br />
          If you only want to insert the password, just press <code><span id="mac-pass-shortcut">Ctrl + Shift + I</span><span id="default-pass-shortcut">Alt + Shift + I</span></code>.
          <span id="chrome-only">You can customize these shortcuts on <code>chrome://extensions/configureCommands</code> page</span>
        </p>
        <p>
          <div class="form-group">
            <label for="blinkTimeout">Blink Time:</label>
            <div class="control-group">
              <div class="input-append">
                <input type="number" id="blinkTimeout" placeholder="7500" value="7500" min="0"/>
                <button class="btn btn-sm btn-primary" id="blinkTimeoutButton" type="button"><span class="glyphicon glyphicon-floppy-disk"></span> Save</button>
              </div>
            </div>
            <span class="help-inline">
              What is the maximum time (ms) the icon should blink after detecting new credentials
              <br />
              Default: 7500
            </span>
          </div>
        </p>
        <p>
          <div class="form-group">
            <label for="blinkMinTimeout">Redirect Offset:</label>
            <div class="control-group">
              <div class="input-append">
                <input type="number" id="blinkMinTimeout" placeholder="2000" value="2000" min="-1"/>
                <button class="btn btn-sm btn-primary" id="blinkMinTimeoutButton" type="button"><span class="glyphicon glyphicon-floppy-disk"></span> Save</button>
              </div>
            </div>
            <span class="help-inline">
              What is the minimum time (ms) the icon should blink before deactivating due to page redirects.
              <br />
              -1 to only use <i>Blink Time</i> ignoring Redirect Allowance (old behavior)
              <br />
              Default: -1, Recommended: 2000
            </span>
          </div>
        </p>
        <p>
          <div class="form-group">
            <label for="allowedRedirect">Redirect Allowance:</label>
            <div class="control-group">
              <div class="input-append">
                <input type="number" id="allowedRedirect" placeholder="1" value="1" min="1"/>
                <button class="btn btn-sm btn-primary" id="allowedRedirectButton" type="button"><span class="glyphicon glyphicon-floppy-disk"></span> Save</button>
              </div>
            </div>
            <span class="help-inline">
              How many pages should the tab cycle through after the redirect offset before deactivating the icon
              <br />
              Default: 1
            </span>
          </div>
        </p>
        <hr />
        <p>
          <div class="checkbox">
            <label class="checkbox">
              <input type="checkbox" name="usePasswordGenerator" value="true" /> Activate password generator.
            </label>
            <span class="help-block">
              For all password-fields there will be an icon added to generate a new password.
              <br />
              It is generated by KeePassXC with the profile for automatically generated passwords for new entries.</span>
          </div>
        </p>
        <hr />
        <p>
          <div class="checkbox">
            <label class="checkbox">
              <input type="checkbox" name="autoRetrieveCredentials" value="true" /> Automatically retrieve credentials.
            </label>
            <span class="help-block">KeePassXC-Browser will immediately retrieve the credentials when the tab is activated.</span>
          </div>
        </p>
        <hr />
        <p>
          <div class="checkbox">
            <label class="checkbox">
              <input type="checkbox" name="autoFillSingleEntry" value="false" /> Automatically fill-in single credentials entry.
            </label>
            <span class="help-block">If KeePassXC-Browser does only receive a single entry from KeePassXC it automatically fills this credentials into the found credential fields.</span>
            <span class="bg-danger">Warning! Using auto-fill is not safe. Use at your own risk.</span>
          </div>
        </p>
        <hr />
        <p>
          <div class="checkbox">
            <label class="checkbox">
              <input type="checkbox" name="autoCompleteUsernames" value="true" /> Activate autocomplete for username fields.
            </label>
            <span class="help-block">For all username fields on a page a dropdown list appears which contains all available credentials.</span>
          </div>
        </p>
        <hr />
        <p>
          <div class="checkbox">
            <label class="checkbox">
              <input type="checkbox" name="showNotifications" value="true" /> Show notifications.
            </label>
            <span class="help-block">Show notifications for errors and when user interaction is required.</span>
          </div>
          <div class="checkbox">
            <label class="checkbox">
              <input type="checkbox" name="showLoginNotifications" value="true" /> Show a notification when new credentials can be saved to the database.
            </label>
          </div>
        </p>
        <hr />
        <p>
          <div class="checkbox">
            <label class="checkbox">
              <input type="checkbox" name="saveDomainOnly" value="true" /> Save domain only.
            </label>
            <span class="help-block">When saving new credentials save only the domain instead of full URL.</span>
          </div>
        </p>
        <hr />
        <p>
          Check for updates of KeePassXC:
          <br />
          <label class="radio-inline"><input type="radio" name="checkUpdateKeePassXC" value="3" /> every 3 days</label>
          <label class="radio-inline"><input type="radio" name="checkUpdateKeePassXC" value="7" /> every week</label>
          <label class="radio-inline"><input type="radio" name="checkUpdateKeePassXC" value="30" /> every month</label>
          <label class="radio-inline"><input type="radio" name="checkUpdateKeePassXC" value="0" /> never</label>
        </p>
        <div class="help-block kphVersion">
          KeePassXC-Browser needs KeePassXC to retrieve credentials.
          <br />
          You can download the latest stable version from here: <a target="_blank" href="https://keepassxc.org/">https://keepassxc.org/</a>
          <br />
          <br />
          <div>
            You are running KeePassXC version: <em class="yourVersion"></em>
          </div>
          <div>
            Latest available version of KeePassXC: <em class="latestVersion"></em>
            <button class="btn btn-sm btn-primary checkUpdateKeePassXC"><span class="glyphicon glyphicon-refresh"></span> Check for updates</button>
          </div>
        </div>
        <hr />
        <p>
          <div class="checkbox">
            <label class="checkbox">
              <input type="checkbox" name="autoFillAndSend" value="1" /> Auto fill HTTP Auth dialogs and send them.
            </label>
            <span class="help-block">
              If credentials are found for a page and the login-type is an HTTP Auth request, KeePassXC-Browser tries to login with the first given credentials.
              <br />
              An HTTP Auth dialog looks like this:
            </span>
          </div>
        <img src="/options/http-auth-dialog.png" alt="http-auth-dialog" />
        </p>
      </div>

      <!-- Connected Databases -->
      <div class="tab" id="tab-connected-databases">
        <h2>Connected databases</h2>
        <hr />
        <p>
          The following KeePassXC databases are connected to KeePassXC-Browser.
        </p>
        <table class="table table-striped table-bordered table-hover">
          <thead>
            <tr>
              <th>Identifier</th>
              <th>Key</th>
              <th>Last used</th>
              <th>Created</th>
              <th>Delete</th>
            </tr>
          </thead>
          <tbody>
            <tr class="empty">
              <td colspan="5">No connected databases found.</td>
            </tr>
            <tr class="clone">
              <td></td>
              <td></td>
              <td class="last-used"></td>
              <td class="created"></td>
              <td><button class="btn delete btn-danger"><span class="glyphicon glyphicon-remove-sign"></span> Remove</button></td>
            </tr>
          </tbody>
        </table>
        <div style="text-align: right">
        <button id="connect-button" class="btn btn-primary"><span class="glyphicon glyphicon-link"></span> Connect</button>
        </div>

        <div id="dialogDeleteConnectedDatabase" class="modal fade" tabindex="-1" role="dialog">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 class="modal-title" id="myModalLabel">Remove identifier from database list?</h3>
              </div>
              <div class="modal-body">
                <p>Do you really want to remove the identifier <span class="bold"></span> from the database list?</p>
                <p class="help-block">You can reconnect your database at any time.</p>
              </div>
              <div class="modal-footer">
                <button class="btn btn-default" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove"></span> Cancel</button>
                <button class="btn yes btn-primary"><span class="glyphicon glyphicon-ok"></span> Yes, remove now</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Custom credential fields -->
      <div class="tab" id="tab-custom-fields">
        <h2>Custom credential fields</h2>
        <hr />
        <p>
          If KeePassXC-Browser detects the wrong credential fields, you are able to specify the correct fields by yourself.
          <br />
          Go to the page and click on the KeePassXC-Browser-Icon, now select <em>Choose custom credential fields for this page</em>.
          <br />
          On this page you can manage saved custom credential fields.
        </p>
        <table class="table table-striped table-bordered table-hover">
          <thead>
            <tr>
              <th>Page URL</th>
              <th>Delete</th>
            </tr>
          </thead>
          <tbody>
            <tr class="empty">
              <td colspan="2">No saved custom credential fields found.</td>
            </tr>
            <tr class="clone">
              <td></td>
              <td><button class="btn delete btn-danger btn"><span class="glyphicon glyphicon-remove-sign"></span> Remove</button></td>
            </tr>
          </tbody>
        </table>
        <div id="dialogDeleteCustomCredentialFields" class="modal fade" tabindex="-1" role="dialog">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel">Remove saved custom credential fields?</h3>
              </div>
              <div class="modal-body">
                <p>DDo you really want to remove the saved custom credential fields on the page: <strong></strong>?</p>
                <p class="help-block">KeePassXC-Browser will automatically detect the credential fields next time you visit this page.</p>
              </div>
              <div class="modal-footer">
                <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
                <button class="btn yes btn-primary">Yes, remove now</button>
              </div>
            </div>
          </div>
       </div>
      </div>

      <!-- Site preferences -->
      <div class="tab" id="tab-site-preferences">
        <h2>Site preferences</h2>
        <hr />
        <p>
          Sites on this page have special handling methods associated with them.
          <br />
          To ignore new/modified credentials on a specific site, add it below or click the blinking KeePassXC-Browser icon and select <em>Never ask for this page</em>.
          <br />
          If a site is fully ignored (<em>Disable all features</em> is selected), then the plugin will do nothing when visiting that site.
          <br />
          Enabling the <em>Username-Only Detection</em> feature allows KeePassXC-Browser to fill-in pages on sites that do present a separated username and password input.
        </p>
        <hr />
        <div class="form-group">
          <label for="sitePreferencesManualAdd">Add URL manually:</label>
          <div class="control-group">
            <div class="input-append">
              <input type="url" id="manualUrl"/>
              <button class="btn btn-sm btn-primary" id="sitePreferencesManualAdd" type="button"><span class="glyphicon glyphicon-plus-sign"></span> Add</button>
            </div>
          </div>
        </div>
        <hr />
        <table class="table table-striped table-bordered table-hover">
          <thead>
            <tr>
              <th>Page URL</th>
              <th>Ignore</th>
              <th>Username-Only Detection</th>
              <th>Delete</th>
            </tr>
          </thead>
          <tbody>
            <tr class="empty">
              <td colspan="4">No sites found.</td>
            </tr>
            <tr class="clone">
              <td></td>
              <td>
                <select name="ignore">
                  <option value="ignoreNothing">Enable all features</option>
                  <option value="ignoreNormal">Disable new/modified credentials</option>
                  <option value="ignoreFull">Disable all features</option>
                </select>
              </td>
              <td><input type="checkbox" name="usernameOnly" value="false" /></td>
              <td><button class="btn delete btn-danger btn"><span class="glyphicon glyphicon-remove-sign"></span> Remove</button></td>
            </tr>
          </tbody>
        </table>
        <div id="dialogDeleteSite" class="modal fade" tabindex="-1" role="dialog">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel">Remove site?</h3>
              </div>
              <div class="modal-body">
                <p>Do you really want to remove the specified site from the list?</p>
                <p class="help-block">KeePassXC-Browser will enable all features for this site and remove username-only detection.</p>
              </div>
              <div class="modal-footer">
                <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
                <button class="btn yes btn-primary">Yes, remove now</button>
              </div>
            </div>
          </div>
       </div>
      </div>

      <!-- About -->
      <div class="tab" id="tab-about">
        <h2>About</h2>
        <hr />
        <p>
          <a target="_blank" href="https://chrome.google.com/webstore/detail/keepassxc-browser/oboonakemofpalcgghocfoadofidjkkk">Visit extension's page in Chrome Web store</a>
        </p>
        <p>
          <a target="_blank" href="https://addons.mozilla.org/en-US/firefox/addon/keepassxc-browser/">Visit extension's page in Mozilla's Add-ons page</a>
        </p>
        <p>
          <a target="_blank" href="https://github.com/keepassxreboot/keepassxc-browser">Visit project's page in GitHub</a>.
        </p>
        <hr />
        <p>
          KeePassXC-Browser Version: <em class="versionCIP"></em>
        </p>
        <p>
          KeePassXC Version: <em class="versionKPH"></em>
        </p>
        <hr />
        <p>
          Contributors:<br>
          <a target="_blank" href="https://github.com/pfn/">Perry Nguyen</a>, <a target="_blank" href="http://lukas-schulze.de">Lukas Schulze</a>,
          <a target="_blank" href="https://github.com/smorks">Andy Brandt</a>, <a target="_blank" href="https://github.com/varjolintu/">Sami Vänttinen</a>
          and <a target="_blank" href="https://github.com/keepassxreboot/keepassxc-browser">KeePassXC Team</a>.
        </p>
      </div>
      <hr>
      <div class="footer">
        <p>(C) 2017-2018 - KeePassXC Team</p>
      </div>
    </div> <!-- /container -->
  </body>
</html>
